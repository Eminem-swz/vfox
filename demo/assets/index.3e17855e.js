import{_ as T,a as x}from"./index.75560e0d.js";import{d as I,E as v,r as C,m as L,e as b,f as F,z as t,A as l,F as k,g as u,t as r,s as A,j as y}from"./vendor.8029601e.js";const R=I({name:"ExpFlatList",setup(){const s=v([]);for(let e=0;e<100;e++)s.push({id:e+1,text:`\u7B2C ${e+1} \u4E2A\u5217\u8868`});const o=v([]);function g(){for(let e=o.length,i=o.length+10;e<i;e++)o.push({id:e+1,text:`\u7B2C ${e+1} \u4E2A\u5217\u8868`})}g();const h=C(!0),c=C();function _(e,i=0){var m;(m=c.value)==null||m.scrollToIndex({index:e,viewPosition:i})}function n(e){var i;(i=c.value)==null||i.scrollTo({offset:e})}function d(e){var i;(i=c.value)==null||i.scrollToEnd(e)}return{list:s,loadList:o,lowerLoading:h,getItemSize(e){return 50+e%10*2},flatList:c,scrollToIndex:_,scrollTo:n,scrollToEnd:d,onRefreshing:(e,i)=>{setTimeout(()=>{x({title:"\u5237\u65B0\u6210\u529F",type:"success"}),i()},2e3)},onEndReached:e=>{console.log("end-reached",e),x("\u5230\u5E95\u4E86")},onLoadMore:e=>{console.log("end-reached",e);const i=100;o.length>=i||setTimeout(()=>{g(),x({title:"\u52A0\u8F7D\u6210\u529F",type:"success"}),o.length>=i&&(h.value=!1)},500)},onVisibleItemsChange:({items:e})=>{console.log("visible-items-change",e),e.forEach(({index:i,visible:m})=>{i===49&&x(`index: ${i}, visable: ${m}`)})}}}}),$={class:"exp-flatList-item"},z={class:"exp-flatList-item"},B={class:"exp-flatList-item"},S={class:"exp-flatList-item"},w={class:"exp-flatList-item"},K={key:0,class:"exp-flatList-item-separator"},V={class:"exp-flatList-item"};function D(s,o,g,h,c,_){const n=L("fx-flat-list"),d=L("fx-group"),E=L("fx-empty"),f=L("fx-cell");return b(),F(k,null,[t(d,{title:"\u57FA\u7840\u7528\u6CD5"},{default:l(()=>[t(n,{class:"exp-flatList-box",data:s.list,dataKey:"id"},{default:l(({data:a})=>[u("div",$,r(a.text),1)]),_:1},8,["data"])]),_:1}),t(d,{title:"\u6C34\u5E73\u5217\u8868"},{default:l(()=>[t(n,{class:"exp-flatList-box",data:s.list,itemSize:140,dataKey:"id",initialHorizontal:""},{default:l(({data:a})=>[u("div",z,r(a.text),1)]),_:1},8,["data"])]),_:1}),t(d,{title:"\u5F00\u542F\u4E0B\u62C9\u5237\u65B0"},{default:l(()=>[t(n,{class:"exp-flatList-box",data:s.list,itemSize:50,dataKey:"id",enablePullRefresh:!0,onRefreshing:s.onRefreshing},{default:l(({data:a})=>[u("div",B,r(a.text),1)]),_:1},8,["data","onRefreshing"])]),_:1}),t(d,{title:"\u5C55\u793A\u5E95\u90E8\u52A0\u8F7D\u66F4\u591A\u63D0\u793A"},{default:l(()=>[t(n,{class:"exp-flatList-box",data:s.loadList,dataKey:"id",lowerLoading:s.lowerLoading,onEndReached:s.onLoadMore},{default:l(({data:a})=>[u("div",S,r(a.text),1)]),_:1},8,["data","lowerLoading","onEndReached"])]),_:1}),t(d,{title:"\u5206\u5272\u7EBF\uFF08#separator\uFF09"},{default:l(()=>[t(n,{class:"exp-flatList-box",data:s.list,dataKey:"id"},{default:l(({data:a})=>[u("div",w,r(a.text),1)]),separator:l(({index:a})=>[a<s.list.length-1?(b(),F("div",K)):A("",!0)]),_:1},8,["data"])]),_:1}),t(d,{title:"\u7011\u5E03\u6D41"},{default:l(()=>[t(n,{class:"exp-flatList-box",data:s.list,getItemSize:s.getItemSize,dataKey:"id",initialWaterfall:"",waterfallColCount:3,ref:"demo"},{default:l(({data:a,index:p})=>[u("div",{class:y(["exp-flatList-item",["color-"+p%10]])},r(a.text),3)]),_:1},8,["data","getItemSize"])]),_:1}),t(d,{title:"\u4E8B\u4EF6\u76D1\u542C\uFF08end-reached/visible-items-change\uFF09"},{default:l(()=>[t(n,{class:"exp-flatList-box",data:s.list,itemSize:50,dataKey:"id",onEndReached:s.onEndReached,onVisibleItemsChange:s.onVisibleItemsChange},{default:l(({data:a})=>[u("div",V,r(a.text),1)]),_:1},8,["data","onEndReached","onVisibleItemsChange"])]),_:1}),t(d,{title:"Slot empty"},{default:l(()=>[t(n,{class:"exp-flatList-box",data:[],itemSize:50,dataKey:"id"},{empty:l(()=>[t(E,{description:"\u6682\u65E0\u5217\u8868"})]),_:1})]),_:1}),t(d,{title:"Method"},{default:l(()=>[t(n,{class:"exp-flatList-box",data:s.list,dataKey:"id",ref:"flatList"},{default:l(({data:a,index:p})=>[u("div",{class:y(["exp-flatList-item",["color-"+p%10]])},r(a.text),3)]),_:1},8,["data"]),t(f,{label:"scrollToIndex({ index: 49 })",isLink:"",onClick:o[0]||(o[0]=a=>s.scrollToIndex(49))}),t(f,{label:"\u540C\u4E0A\u52A0 viewPosition=0.5",isLink:"",onClick:o[1]||(o[1]=a=>s.scrollToIndex(49,.5))}),t(f,{label:"\u540C\u4E0A\u52A0 viewPosition=1",isLink:"",onClick:o[2]||(o[2]=a=>s.scrollToIndex(49,1))}),t(f,{label:"scrollTo({ offset: 200 })",isLink:"",onClick:o[3]||(o[3]=a=>s.scrollTo(200))}),t(f,{label:"scrollToEnd(true)",isLink:"",onClick:o[4]||(o[4]=a=>s.scrollToEnd(!0))})]),_:1})],64)}var P=T(R,[["render",D]]);export{P as default};
