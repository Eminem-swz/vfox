import{_ as g,a as i}from"./index.88d65a1c.js";import{r as m,c as f,a as o,w as p,F as c,o as x}from"./vendor.e8a7463a.js";const U={name:"ImageUploader",props:{},data(){return{imageList:[],imageList2:["https://cdn.fox2.cn/vfox/empty/default@2x.png","https://cdn.fox2.cn/vfox/empty/error@2x.png"],imageList3:[]}},methods:{onBeforeUpload(a,{formatSize:e}){if(a.size>1024*1024)return i.showToast(`\u4E0A\u4F20\u56FE\u7247\u4E0D\u80FD\u5927\u4E8E ${e(1024*1024)}`),!1;i.showToast(`\u4E0A\u4F20\u56FE\u7247\u5927\u5C0F\u4E3A ${e(a.size)}`)},onUploadOrFail(a,e){e.setUploading("\u4E0A\u4F20\u4E2D..."),setTimeout(()=>{this.getDataUrl(a).then(l=>{Math.random()>.5?e.fail("\u6A21\u62DF\u5931\u8D25"):e.success(l)})},2e3)},onUpload(a,e){this.getDataUrl(a).then(l=>{e.success(l)})},getDataUrl(a){return new Promise(e=>{const l=new FileReader;l.onload=function(u){e(u.target.result)},l.readAsDataURL(a)})},onChange(a){console.log("change",a)},onDelete(a){console.log("delete",a)}}};function _(a,e,l,u,t,n){const s=m("fx-image-uploader"),r=m("fx-group");return x(),f(c,null,[o(r,{title:"\u57FA\u7840\u7528\u6CD5"},{default:p(()=>[o(s,{uploadReady:n.onUploadOrFail,onChange:n.onChange,onDelete:n.onDelete,accept:"png",maxCount:9,modelValue:t.imageList,"onUpdate:modelValue":e[0]||(e[0]=d=>t.imageList=d),multiple:""},null,8,["uploadReady","onChange","onDelete","modelValue"])]),_:1}),o(r,{title:"\u4E0A\u4F20\u524D\u7F6E\u5904\u7406"},{default:p(()=>[o(s,{beforeUpload:n.onBeforeUpload,uploadReady:n.onUpload,accept:"png",maxCount:9,modelValue:t.imageList3,"onUpdate:modelValue":e[1]||(e[1]=d=>t.imageList3=d),multiple:""},null,8,["beforeUpload","uploadReady","modelValue"])]),_:1}),o(r,{title:"\u7981\u7528\u5220\u9664"},{default:p(()=>[o(s,{modelValue:t.imageList2,"onUpdate:modelValue":e[2]||(e[2]=d=>t.imageList2=d),deletable:!1,uploadReady:n.onUpload},null,8,["modelValue","uploadReady"])]),_:1}),o(r,{title:"\u7981\u7528\u4E0A\u4F20"},{default:p(()=>[o(s,{disabled:""})]),_:1})],64)}var h=g(U,[["render",_]]);export{h as default};
