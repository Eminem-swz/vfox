import{_ as F,a as h}from"./index.75decfab.js";import{d as y,D as b,r as C,l as g,b as L,e as I,y as t,z as s,f as u,t as f,h as v}from"./vendor.4df8ce31.js";const R=y({name:"ExpFlatList",setup(){const l=b([]);for(let e=0;e<100;e++)l.push({id:e+1,text:`\u7B2C ${e+1} \u4E2A\u5217\u8868`});const i=b([]);function p(){for(let e=i.length,n=i.length+10;e<n;e++)i.push({id:e+1,text:`\u7B2C ${e+1} \u4E2A\u5217\u8868`})}p();const c=C(!1),m=C();function E(e,n=0){var _;(_=m.value)==null||_.scrollToIndex({index:e,viewPosition:n})}function o(e){var n;(n=m.value)==null||n.scrollTo({offset:e})}return{list:l,loadList:i,lowerLoading:c,getItemSize(e){return 50+e%10*2},flatList:m,scrollToIndex:E,scrollTo:o,onRefreshing:(e,n)=>{setTimeout(()=>{h({title:"\u5237\u65B0\u6210\u529F",type:"success"}),n()},2e3)},onEndReached:e=>{console.log("end-reached",e),h("\u5230\u5E95\u4E86")},onLoadMore:e=>{console.log("end-reached",e),!(i.length>=100)&&(c.value=!0,setTimeout(()=>{p(),h({title:"\u52A0\u8F7D\u6210\u529F",type:"success"}),c.value=!1},500))},onVisibleItemsChange:({items:e})=>{console.log("visible-items-change",e),e.forEach(({index:n,visible:_})=>{n===49&&h(`index: ${n}, visable: ${_}`)})}}}}),T={class:"flat-list"},z={class:"flat-list-item"},A={class:"flat-list-item"},$={class:"flat-list-item"},B={class:"flat-list-item"},S={class:"flat-list-item"};function k(l,i,p,c,m,E){const o=g("fx-flat-list"),d=g("fx-group"),x=g("fx-empty"),r=g("fx-cell");return L(),I("div",T,[t(d,{title:"\u57FA\u7840\u7528\u6CD5"},{default:s(()=>[t(o,{class:"flat-list-box",data:l.list,dataKey:"id"},{default:s(({item:a})=>[u("div",z,f(a.text),1)]),_:1},8,["data"])]),_:1}),t(d,{title:"\u6C34\u5E73\u5217\u8868"},{default:s(()=>[t(o,{class:"flat-list-box",data:l.list,itemSize:130,dataKey:"id",initialHorizontal:""},{default:s(({item:a})=>[u("div",A,f(a.text),1)]),_:1},8,["data"])]),_:1}),t(d,{title:"\u5C55\u793A\u5E95\u90E8\u52A0\u8F7D\u66F4\u591A\u63D0\u793A"},{default:s(()=>[t(o,{class:"flat-list-box",data:l.loadList,itemSize:50,dataKey:"id",lowerLoading:l.lowerLoading,onEndReached:l.onLoadMore},{default:s(({item:a})=>[u("div",$,f(a.text),1)]),_:1},8,["data","lowerLoading","onEndReached"])]),_:1}),t(d,{title:"\u8BBE\u7F6E\u95F4\u9694\uFF08itemGutter=[16, 6]\uFF09"},{default:s(()=>[t(o,{class:"flat-list-box",data:l.list,dataKey:"id",itemGutter:[16,6]},{default:s(({item:a,index:e})=>[u("div",{class:v(["flat-list-item",["color-"+e%10]])},f(a.text),3)]),_:1},8,["data"])]),_:1}),t(d,{title:"\u7011\u5E03\u6D41"},{default:s(()=>[t(o,{class:"flat-list-box",data:l.list,getItemSize:l.getItemSize,dataKey:"id",initialWaterfall:"",waterfallColCount:3,ref:"demo"},{default:s(({item:a,index:e})=>[u("div",{class:v(["flat-list-item",["color-"+e%10]])},f(a.text),3)]),_:1},8,["data","getItemSize"])]),_:1}),t(d,{title:"\u4E8B\u4EF6\u76D1\u542C\uFF08end-reached/visible-items-change\uFF09"},{default:s(()=>[t(o,{class:"flat-list-box",data:l.list,itemSize:50,dataKey:"id",onEndReached:l.onEndReached,onVisibleItemsChange:l.onVisibleItemsChange},{default:s(({item:a})=>[u("div",B,f(a.text),1)]),_:1},8,["data","onEndReached","onVisibleItemsChange"])]),_:1}),t(d,{title:"\u5F00\u542F\u4E0B\u62C9\u5237\u65B0"},{default:s(()=>[t(o,{class:"flat-list-box",data:l.list,itemSize:50,dataKey:"id",enablePullRefresh:!0,onRefreshing:l.onRefreshing},{default:s(({item:a})=>[u("div",S,f(a.text),1)]),_:1},8,["data","onRefreshing"])]),_:1}),t(d,{title:"Slot empty"},{default:s(()=>[t(o,{class:"flat-list-box",data:[],itemSize:50,dataKey:"id"},{empty:s(()=>[t(x,{description:"\u6682\u65E0\u5217\u8868"})]),_:1})]),_:1}),t(d,{title:"Method"},{default:s(()=>[t(o,{class:"flat-list-box",data:l.list,dataKey:"id",ref:"flatList"},{default:s(({item:a,index:e})=>[u("div",{class:v(["flat-list-item",["color-"+e%10]])},f(a.text),3)]),_:1},8,["data"]),t(r,{label:"scrollToIndex({ index: 49 })",isLink:"",onClick:i[0]||(i[0]=a=>l.scrollToIndex(49))}),t(r,{label:"\u540C\u4E0A\u52A0 viewPosition=0.5",isLink:"",onClick:i[1]||(i[1]=a=>l.scrollToIndex(49,.5))}),t(r,{label:"\u540C\u4E0A\u52A0 viewPosition=1",isLink:"",onClick:i[2]||(i[2]=a=>l.scrollToIndex(49,1))}),t(r,{label:"scrollTo({ offset: 200 })",isLink:"",onClick:i[3]||(i[3]=a=>l.scrollTo(200))})]),_:1})])}var D=F(R,[["render",k]]);export{D as default};
