(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{529:function(t,a,e){"use strict";e.r(a);var r=e(49),s=Object(r.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"localstorage-本地缓存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#localstorage-本地缓存"}},[t._v("#")]),t._v(" LocalStorage 本地缓存")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("原本定义的 "),e("code",[t._v("localStorage")]),t._v(" 是只有 string 类型的 value 。")])]),t._v(" "),e("li",[e("p",[t._v("封装的接口支持序列化数据，序列化和反序列化操作由接口内部实现。")])])]),t._v(" "),e("h2",{attrs:{id:"localstorage-getstorage-key"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#localstorage-getstorage-key"}},[t._v("#")]),t._v(" LocalStorage.getStorage(key)")]),t._v(" "),e("h3",{attrs:{id:"params"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#params"}},[t._v("#")]),t._v(" Params")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",[t._v("类型")]),t._v(" "),e("th",[t._v("默认值")]),t._v(" "),e("th",[t._v("必填")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("key")]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("是")]),t._v(" "),e("td",[t._v("本地缓存中指定的 key")])])])]),t._v(" "),e("h3",{attrs:{id:"return"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return"}},[t._v("#")]),t._v(" Return")]),t._v(" "),e("p",[t._v("any data")]),t._v(" "),e("p",[t._v("key 对应的内容")]),t._v(" "),e("h3",{attrs:{id:"usage"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#usage"}},[t._v("#")]),t._v(" Usage")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("import { LocalStorage } from 'vfox'\n\ntry {\n  const value = LocalStorage.getStorageSync('key')\n  if (value) {\n    // Do something with return value\n  }\n} catch (e) {\n  // Do something when catch error\n}\n")])])]),e("h2",{attrs:{id:"localstorage-setstorage-key-value"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#localstorage-setstorage-key-value"}},[t._v("#")]),t._v(" LocalStorage.setStorage(key, value)")]),t._v(" "),e("h3",{attrs:{id:"params-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#params-2"}},[t._v("#")]),t._v(" Params")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",[t._v("类型")]),t._v(" "),e("th",[t._v("默认值")]),t._v(" "),e("th",[t._v("必填")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("key")]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("是")]),t._v(" "),e("td",[t._v("本地缓存中指定的 key")])]),t._v(" "),e("tr",[e("td",[t._v("data")]),t._v(" "),e("td",[t._v("any")]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("是")]),t._v(" "),e("td",[t._v("需要存储的内容。只支持原生类型、Date、及能够通过 JSON.stringify 序列化的对象")])])])]),t._v(" "),e("h3",{attrs:{id:"usage-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#usage-2"}},[t._v("#")]),t._v(" Usage")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("import { LocalStorage } from 'vfox'\n\ntry {\n  LocalStorage.setStorageSync('key', 'value')\n} catch (e) { }\n")])])]),e("h2",{attrs:{id:"localstorage-removestorage-key"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#localstorage-removestorage-key"}},[t._v("#")]),t._v(" LocalStorage.removeStorage(key)")]),t._v(" "),e("h3",{attrs:{id:"params-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#params-3"}},[t._v("#")]),t._v(" Params")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",[t._v("类型")]),t._v(" "),e("th",[t._v("默认值")]),t._v(" "),e("th",[t._v("必填")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("key")]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("是")]),t._v(" "),e("td",[t._v("本地缓存中指定的 key")])])])]),t._v(" "),e("h3",{attrs:{id:"usage-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#usage-3"}},[t._v("#")]),t._v(" Usage")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("import { LocalStorage } from 'vfox'\n\ntry {\n  LocalStorage.removeStorageSync('key')\n} catch (e) {\n  // Do something when catch error\n}\n")])])]),e("h2",{attrs:{id:"localstorage-clearstorage"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#localstorage-clearstorage"}},[t._v("#")]),t._v(" LocalStorage.clearStorage()")]),t._v(" "),e("h3",{attrs:{id:"usage-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#usage-4"}},[t._v("#")]),t._v(" Usage")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("import { LocalStorage } from 'vfox'\n\ntry {\n  LocalStorage.clearStorageSync()\n} catch(e) {\n  // Do something when catch error\n}\n")])])]),e("h2",{attrs:{id:"localstorage-getstorageinfo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#localstorage-getstorageinfo"}},[t._v("#")]),t._v(" LocalStorage.getStorageInfo()")]),t._v(" "),e("h3",{attrs:{id:"return-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-2"}},[t._v("#")]),t._v(" Return")]),t._v(" "),e("p",[t._v("Object object")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",[t._v("类型")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("keys")]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td",[t._v("当前 storage 中所有的 key")])]),t._v(" "),e("tr",[e("td",[t._v("currentSize")]),t._v(" "),e("td",[t._v("number")]),t._v(" "),e("td",[t._v("当前占用的空间大小, 单位 KB")])]),t._v(" "),e("tr",[e("td",[t._v("limitSize")]),t._v(" "),e("td",[t._v("number")]),t._v(" "),e("td",[t._v("限制的空间大小，单位 KB")])])])]),t._v(" "),e("h3",{attrs:{id:"usage-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#usage-5"}},[t._v("#")]),t._v(" Usage")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("import { LocalStorage } from 'vfox'\n\ntry {\n  const res = LocalStorage.getStorageInfoSync()\n  console.log(res.keys)\n  console.log(res.currentSize)\n  console.log(res.limitSize)\n} catch (e) {\n  // Do something when catch error\n}\n")])])]),e("h2",{attrs:{id:"localstorage-createstorage-areaname-options"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#localstorage-createstorage-areaname-options"}},[t._v("#")]),t._v(" LocalStorage.createStorage(areaName[, options])")]),t._v(" "),e("p",[t._v("创建指定分区的实例，来维护自身缓存，避免缓存污染全局。")]),t._v(" "),e("h3",{attrs:{id:"params-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#params-4"}},[t._v("#")]),t._v(" Params")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",[t._v("类型")]),t._v(" "),e("th",[t._v("默认值")]),t._v(" "),e("th",[t._v("必填")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("key")]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("是")]),t._v(" "),e("td",[t._v("分区名，如 "),e("code",[t._v("myArea")])])]),t._v(" "),e("tr",[e("td",[t._v("options")]),t._v(" "),e("td",[t._v("object")]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("否")]),t._v(" "),e("td",[t._v("配置项")])])])]),t._v(" "),e("h4",{attrs:{id:"options-的-params"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#options-的-params"}},[t._v("#")]),t._v(" options 的 Params")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",[t._v("类型")]),t._v(" "),e("th",[t._v("默认值")]),t._v(" "),e("th",[t._v("必填")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("perLimitSize")]),t._v(" "),e("td",[t._v("number")]),t._v(" "),e("td",[t._v("1024")]),t._v(" "),e("td",[t._v("否")]),t._v(" "),e("td",[t._v("单次缓存最大 kb")])]),t._v(" "),e("tr",[e("td",[t._v("limitSize")]),t._v(" "),e("td",[t._v("number")]),t._v(" "),e("td",[t._v("2560")]),t._v(" "),e("td",[t._v("否")]),t._v(" "),e("td",[t._v("分区缓存最大 kb")])])])]),t._v(" "),e("h3",{attrs:{id:"return-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-3"}},[t._v("#")]),t._v(" Return")]),t._v(" "),e("p",[e("code",[t._v("StorageArea")]),t._v(" 实例，可以操作指定分区的本地缓存。")]),t._v(" "),e("h3",{attrs:{id:"usage-6"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#usage-6"}},[t._v("#")]),t._v(" Usage")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("import { LocalStorage } from 'vfox'\n\nconst myArea = LocalStorage.createStorage('myArea', { limitSize: 1000 })\nmyArea.setStorage('a', 1)\n")])])])])}),[],!1,null,null,null);a.default=s.exports}}]);